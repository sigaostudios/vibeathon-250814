<div class="configuration-container">
    <div class="container">
        <h1 class="text-center mb-4">Game Configuration</h1>
        
        <div class="config-grid">
            <div class="card">
                <h2 class="mb-3">Audio Settings</h2>
                
                <div class="form-group">
                    <label class="checkbox-label">
                        <input 
                            type="checkbox" 
                            [(ngModel)]="config.soundEnabled"
                            (change)="onSoundToggle()"
                            class="checkbox-input">
                        <span>Enable Sound</span>
                    </label>
                </div>

                <div class="form-group">
                    <label for="musicVolume">Music Volume: {{config.musicVolume}}%</label>
                    <input 
                        type="range" 
                        id="musicVolume"
                        [(ngModel)]="config.musicVolume"
                        (input)="onMusicVolumeChange()"
                        min="0" 
                        max="100" 
                        class="slider"
                        [disabled]="!config.soundEnabled">
                </div>

                <div class="form-group">
                    <label for="sfxVolume">SFX Volume: {{config.sfxVolume}}%</label>
                    <input 
                        type="range" 
                        id="sfxVolume"
                        [(ngModel)]="config.sfxVolume"
                        (input)="onSfxVolumeChange()"
                        min="0" 
                        max="100" 
                        class="slider"
                        [disabled]="!config.soundEnabled">
                </div>
            </div>

            <div class="card">
                <h2 class="mb-3">Game Settings</h2>
                
                <div class="form-group">
                    <label for="gameTitle">Game Title</label>
                    <input 
                        type="text" 
                        id="gameTitle"
                        [(ngModel)]="config.gameTitle"
                        placeholder="Enter game title"
                        class="text-input"
                        maxlength="30">
                </div>

                <div class="form-group">
                    <label for="playerName">Player Name</label>
                    <input 
                        type="text" 
                        id="playerName"
                        [(ngModel)]="config.playerName"
                        placeholder="Enter your name"
                        class="text-input"
                        maxlength="20">
                </div>

                <div class="form-group">
                    <label for="difficulty">Difficulty</label>
                    <select 
                        id="difficulty"
                        [(ngModel)]="config.difficulty"
                        (change)="onDifficultyChange()"
                        class="select-input">
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="githubToken">GitHub Token (for private repo access)</label>
                    <input 
                        type="password" 
                        id="githubToken"
                        [(ngModel)]="config.githubToken"
                        placeholder="Enter GitHub Personal Access Token"
                        class="text-input">
                    <small class="form-hint">Generate at https://github.com/settings/tokens with 'repo' scope</small>
                </div>

                <div class="form-group">
                    <label for="groqApiKey">Groq API Key (for AI analysis)</label>
                    <input 
                        type="password" 
                        id="groqApiKey"
                        [(ngModel)]="config.groqApiKey"
                        placeholder="Enter Groq API Key"
                        class="text-input">
                    <small class="form-hint">Get your free API key at https://console.groq.com/</small>
                </div>

                <div class="form-group">
                    <label for="zipCode">ZIP Code (for flight tracking)</label>
                    <div class="zip-input-container">
                        <input 
                            type="text" 
                            id="zipCode"
                            [(ngModel)]="config.zipCode"
                            placeholder="Enter your ZIP code (e.g., 35203)"
                            class="text-input"
                            maxlength="5"
                            pattern="[0-9]{5}"
                            [disabled]="isDetectingLocation">
                        <button 
                            type="button"
                            class="detect-btn"
                            (click)="detectLocationAgain()"
                            [disabled]="isDetectingLocation"
                            title="Auto-detect your location">
                            {{ isDetectingLocation ? 'üìç Detecting...' : 'üìç Auto-detect' }}
                        </button>
                    </div>
                    <small class="form-hint">
                        Used to track flights in your area
                        <span *ngIf="detectedLocation" class="detected-info">
                            ‚Ä¢ Auto-detected: {{detectedLocation.city}}, {{detectedLocation.state}} via {{detectedLocation.source}}
                        </span>
                    </small>
                </div>
            </div>
        </div>

        <div class="action-buttons mt-4">
            <button class="btn" (click)="saveConfiguration()">
                Save Configuration
            </button>
            <button class="btn btn-secondary" (click)="resetToDefaults()">
                Reset to Defaults
            </button>
        </div>

        <div class="save-message" [class.show]="savedMessage">
            {{ savedMessage }}
        </div>

        <div class="text-center mt-4">
            <a href="/" class="back-link">‚Üê Back to Game</a>
        </div>
    </div>
</div>
